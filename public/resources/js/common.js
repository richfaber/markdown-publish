function encodeBase64ImageFile( image ) {    let reader = new FileReader();    reader.readAsDataURL( image );    return new Promise(function( resolve, reject ) {        reader.onload = function( event ) {            resolve( { message: event.target.result } )        };        reader.onerror = function(error) {            reject( error );        };    });}function copyToClipboard( selector, str ) {    var targetContent = (str) ? str : document.querySelector(selector) && document.querySelector(selector).innerHTML,        t = document.createElement("textarea");    document.body.appendChild(t);    t.value = targetContent;    t.select();    return new Promise(function(resolve, reject) {        var message = t.value;        document.execCommand('copy');        document.body.removeChild(t);        resolve( { message : message } );    });}